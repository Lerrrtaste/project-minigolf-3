#### TODOS

- FINISH_MOVE does not get sent reliable after sending REACHED_FINISH, is that is fixed, the win condition should work
- win condition
- simple match end screen
- water tiles + ball reset
- sand tiles + speed slowdown
- store maps in nakama collection
- map storage node to handle downloading / loading mapfile
- variable shot strenght
- wait for map to (down)load before starting match

#### DONE
- ball physics (vector reflection)
- BALL_IMPACT broadcast state data is not deserialized correctly yet, then:
- networked ball movement (remote pc) + synchronize at the end
- authorative turns
- consolidate ball spawn code
- stroke counter ui



#### IDEAS
- Ball to Wall collision normal with 4 spheres / ray casts? Only if current does not work
- Match camera follows current player instead of local player


#### OP CODES
101 MATCH_CONFIG (map_id:int)
		sender: server

102 MATCH_START (joined_players:List presences, turn_order:List user_ids )
		sender: server
		note: implies next turn for first player in turn_order

103 NEXT_TURN (next_player:Dictionary presence)
		sender: server
		after recieving a FINISHED_TURN the next player is announced

104 FINISHED_TURN (reached_finish:bool)
		sender: client
		after ball stopped moving (because of friction or reaching the finish)

105 REACHED_FINISH ()
		sender: server
		if reached_finish in the FINISHED_TURN msg was true

106 MATCH_END (scores:Dictionary key userid, value shots)


// Ball Movement
201 BALL_IMPACT (target_pos:Vector2 relative click)
		sender: client (local playercontroller)
		reciever: remote pc
		note: impact meaining local player initiated move (not collision from another player)

202 BALL_SYNC (synced_pos:Vector2 absolute new pos)
		sender client (local playercontroller)
		reciever: remote pc